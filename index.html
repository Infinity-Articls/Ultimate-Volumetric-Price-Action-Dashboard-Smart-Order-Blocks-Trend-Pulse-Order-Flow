<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ultimate Volumetric Dashboard | Dual-Master Documentation</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Outfit:wght@400;600;700;800&family=IBM+Plex+Sans+Arabic:wght@300;400;600;700&family=Fira+Code:wght@400;500&display=swap"
        rel="stylesheet">
    <style>
        :root {
            --primary-gold: #c5a059;
            --primary-teal: #00bfa5;
            --bg-dark: #050608;
            --bg-panel: #0d1117;
            --border: rgba(197, 160, 89, 0.2);
            --text-main: #e6edf3;
            --text-muted: #8b949e;
            --transition: all 0.3s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background-color: var(--bg-dark);
            color: var(--text-main);
            font-family: 'Inter', sans-serif;
            overflow: hidden;
            /* Main window doesn't scroll, panels do */
            height: 100vh;
        }

        /* Split Screen Container */
        .wrapper {
            display: flex;
            width: 100vw;
            height: 100vh;
        }

        .pane {
            flex: 1;
            height: 100vh;
            overflow-y: auto;
            position: relative;
            padding: 4rem 3rem;
            scrollbar-width: thin;
            scrollbar-color: var(--primary-gold) var(--bg-dark);
        }

        /* Progress Bars */
        .progress-container {
            position: fixed;
            top: 0;
            height: 6px;
            background: rgba(255, 255, 255, 0.05);
            z-index: 1000;
        }

        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, var(--primary-gold), var(--primary-teal));
            width: 0%;
        }

        #pane-en {
            border-right: 1px solid var(--border);
            background: radial-gradient(circle at top left, rgba(197, 160, 89, 0.03), transparent 40%);
        }

        #pane-ar {
            direction: rtl;
            font-family: 'IBM Plex Sans Arabic', sans-serif;
            background: radial-gradient(circle at top right, rgba(0, 191, 165, 0.03), transparent 40%);
        }

        .pane-label {
            position: sticky;
            top: 0;
            background: rgba(5, 6, 8, 0.9);
            backdrop-filter: blur(10px);
            padding: 0.8rem 2rem;
            border-radius: 0 0 15px 15px;
            color: var(--primary-gold);
            font-weight: 800;
            font-size: 0.8rem;
            letter-spacing: 2px;
            text-transform: uppercase;
            z-index: 900;
            display: inline-block;
            margin-bottom: 2rem;
            border: 1px solid var(--border);
            border-top: none;
        }

        /* Documentation Styling */
        h1 {
            font-family: 'Outfit', sans-serif;
            font-size: 2.8rem;
            margin-bottom: 1.5rem;
            color: #fff;
            line-height: 1.1;
        }

        h2 {
            font-family: 'Outfit', sans-serif;
            font-size: 1.8rem;
            margin: 3rem 0 1.5rem;
            color: var(--primary-gold);
            border-bottom: 1px solid var(--border);
            padding-bottom: 0.5rem;
        }

        h3 {
            font-size: 1.4rem;
            margin: 2rem 0 1rem;
            color: var(--primary-teal);
        }

        p {
            font-size: 1.05rem;
            color: var(--text-muted);
            margin-bottom: 1.5rem;
            line-height: 1.8;
        }

        .code-block {
            background: #010409;
            border: 1px solid #30363d;
            border-radius: 12px;
            padding: 1.5rem;
            margin: 2rem 0;
            font-family: 'Fira Code', monospace;
            font-size: 0.85rem;
            overflow-x: auto;
            position: relative;
        }

        .code-caption {
            color: var(--primary-gold);
            font-size: 0.75rem;
            margin-bottom: 10px;
            display: block;
            opacity: 0.7;
        }

        .highlight {
            color: #ff7b72;
        }

        .func {
            color: #d2a8ff;
        }

        .string {
            color: #a5d6ff;
        }

        .comment {
            color: #8b949e;
        }

        /* Q&A System */
        .qa-box {
            background: rgba(197, 160, 89, 0.05);
            border-radius: 16px;
            padding: 2rem;
            margin: 2rem 0;
            border: 1px solid var(--border);
        }

        .question {
            color: #fff;
            font-weight: 700;
            margin-bottom: 0.5rem;
            display: block;
            font-size: 1.1rem;
        }

        .answer {
            color: var(--text-muted);
            font-size: 0.95rem;
        }

        /* Progress Bar width helpers */
        #bar-en {
            left: 0;
            width: 50vw;
        }

        #bar-ar {
            right: 0;
            width: 50vw;
        }

        @media (max-width: 1024px) {
            .wrapper {
                flex-direction: column;
                overflow-y: auto;
                height: auto;
            }

            .pane {
                height: auto;
                overflow: visible;
                width: 100vw;
            }

            #bar-en,
            #bar-ar {
                width: 100vw;
            }
        }
    </style>
</head>

<body>
    <!-- Top Progress Indicators -->
    <div id="bar-en" class="progress-container">
        <div id="progress-en" class="progress-bar"></div>
    </div>
    <div id="bar-ar" class="progress-container">
        <div id="progress-ar" class="progress-bar"></div>
    </div>

    <div class="wrapper">
        <!-- ENGLISH PANE -->
        <div id="pane-en" class="pane">
            <div class="pane-label">Master Documentation: EN</div>

            <h1>Institutional Liquidity:<br>The Ultimate Protocol</h1>
            <p>Welcome to the sovereign technical manuscript of the Volumetric Dashboard. This split-view interface
                allows you to study the institutional logic in dual-linguistic alignment. Every character of the code
                has been curated for maximum transparency.</p>

            <section id="full-code-en">
                <h2>01. Full Source Code Registry</h2>
                <div class="code-block">
                    <span class="code-caption">Pine Script v5 | Institutional Build</span>
                    <code>
                        <span class="comment">// @version=5</span><br>
                        <span class="highlight">indicator</span>(<span class="string">"Price Action Volumetric OB & Trend Strength"</span>, <span class="highlight">overlay</span> = <span class="highlight">true</span>)<br><br>
                        <span class="comment">// Core Execution Logic</span><br>
                        <span class="highlight">type</span> bar<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;<span class="highlight">float</span> o = <span class="func">open</span><br>
                        &nbsp;&nbsp;&nbsp;&nbsp;<span class="highlight">float</span> h = <span class="func">high</span><br>
                        &nbsp;&nbsp;&nbsp;&nbsp;<span class="highlight">float</span> l = <span class="func">low</span><br>
                        &nbsp;&nbsp;&nbsp;&nbsp;<span class="highlight">float</span> c = <span class="func">close</span><br>
                        &nbsp;&nbsp;&nbsp;&nbsp;<span class="highlight">float</span> v = <span class="func">volume</span>
                    </code>
                </div>
            </section>

            <section id="sequential-en">
                <h2>02. Sequential Logic Breakdown</h2>
                <h3>Phase I: Memory Initialization</h3>
                <p>The first 10 lines initialize the custom data structure <code>type ob</code>. This is not just a
                    variable; it's a memory fragment that tracks volume, midpoint, and status of every institutional
                    zone.</p>

                <h3>Phase II: Zero-Lag Differentiation</h3>
                <p>Mathematical precision is achieved through a double-weighted recursive model. This prevents the "Lag
                    Death" typical of retail indicators.</p>
                <div class="code-block">
                    <code>
                        pulse = <span class="func">3</span> * ta.wma(close, L) - <span class="func">2</span> * ta.wma(ta.wma(close, L), L)
                    </code>
                </div>

                <h3>Phase III: Volumetric Grid</h3>
                <p>The orderbook script scans the last 1000 bars, slicing them into dynamic price bins. This creates the
                    'Volume Ladder' you see on the right.</p>
            </section>

            <section id="qa-en">
                <h2>03. Technical Q&A</h2>
                <div class="qa-box">
                    <span class="question">How does it handle "Fake" Order Blocks?</span>
                    <span class="answer">The algorithm validates every zone with a Volume Spike Threshold. Unless the
                        Volume Pivot matches the Price Pivot, the zone is discarded.</span>
                </div>
                <div class="qa-box">
                    <span class="question">Why is there no delay in the Trend Gauge?</span>
                    <span class="answer">By subtracting the double-WMA from the triple-WMA, we neutralize the slope
                        delay, giving you the trend "Now", not 10 bars ago.</span>
                </div>
                <div class="qa-box">
                    <span class="question">Can I use this for Scalping?</span>
                    <span class="answer">Yes, set the "Length" input to 5 for instant 1-minute confirmation
                        cycles.</span>
                </div>
            </section>
        </div>

        <!-- ARABIC PANE -->
        <div id="pane-ar" class="pane">
            <div class="pane-label">التوثيق التقني الشامل: AR</div>

            <h1>سيولة المؤسسات:<br>البروتوكول المتكامل</h1>
            <p>مرحباً بك في المخطوطة التقنية السيادية لمنصة السيولة الحجمية. تتيح لك هذه الواجهة المنقسمة دراسة المنطق
                المؤسساتي بمحاذاة لغوية مزدوجة. تم تنسيق كل حرف في الكود لضمان أقصى درجات الشفافية.</p>

            <section id="full-code-ar">
                <h2>01. سجل الكود المصدري الكامل</h2>
                <div class="code-block" style="direction: ltr;">
                    <span class="code-caption">Pine Script v5 | النسخة المؤسساتية</span>
                    <code>
                        <span class="comment">// @version=5</span><br>
                        <span class="highlight">indicator</span>(<span class="string">"Price Action Volumetric OB & Trend Strength"</span>, <span class="highlight">overlay</span> = <span class="highlight">true</span>)<br><br>
                        <span class="comment">// منطق التنفيذ الجوهري</span><br>
                        <span class="highlight">type</span> bar<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;<span class="highlight">float</span> o = <span class="func">open</span><br>
                        &nbsp;&nbsp;&nbsp;&nbsp;<span class="highlight">float</span> h = <span class="func">high</span><br>
                        &nbsp;&nbsp;&nbsp;&nbsp;<span class="highlight">float</span> l = <span class="func">low</span><br>
                        &nbsp;&nbsp;&nbsp;&nbsp;<span class="highlight">float</span> c = <span class="func">close</span><br>
                        &nbsp;&nbsp;&nbsp;&nbsp;<span class="highlight">float</span> v = <span class="func">volume</span>
                    </code>
                </div>
            </section>

            <section id="sequential-ar">
                <h2>02. تفصيل التسلسل البرمجي</h2>
                <h3>المرحلة الأولى: تهيئة الذاكرة</h3>
                <p>الأسطر العشرة الأولى تقوم بتهيئة هيكل البيانات المخصص <code>type ob</code>. هذا ليس مجرد متغير، بل هو
                    شريحة ذاكرة تتتبع الحجم، نقطة المنتصف، وحالة كل منطقة مؤسساتية.</p>

                <h3>المرحلة الثانية: التفاضل صفر-تأخير</h3>
                <p>يتم تحقيق الدقة الرياضية من خلال نموذج تكراري مزدوج الوزن. هذا يمنع "موت التأخير" (Lag Death) المعتاد
                    في المؤشرات التقليدية.</p>
                <div class="code-block" style="direction: ltr;">
                    <code>
                        pulse = <span class="func">3</span> * ta.wma(close, L) - <span class="func">2</span> * ta.wma(ta.wma(close, L), L)
                    </code>
                </div>

                <h3>المرحلة الثالثة: الشبكة الحجمية</h3>
                <p>سكريبت دفتر الأوامر يقوم بمسح آخر 1000 شمعة، وتقسيمها إلى خلايا سعرية ديناميكية، مما ينشئ "سلم الحجم"
                    الذي تراه على اليمين.</p>
            </section>

            <section id="qa-ar">
                <h2>03. أسئلة تقنية شائعة</h2>
                <div class="qa-box">
                    <span class="question">كيف يتم التعامل مع مناطق الـ OB الوهمية؟</span>
                    <span class="answer">الخوارزمية تتحقق من كل منطقة باستخدام حد أدنى لحجم التداول. ما لم يتطابق "تحول
                        الحجم" مع "تحول السعر"، يتم تجاهل المنطقة.</span>
                </div>
                <div class="qa-box">
                    <span class="question">لماذا لا يوجد تأخير في مقياس الاتجاه؟</span>
                    <span class="answer">عن طريق طرح المتوسط المتحرك المزدوج من الثلاثي، نقوم بتحييد تأخير الميل، مما
                        يعطيك الاتجاه "الآن" وليس قبل 10 شموع.</span>
                </div>
                <div class="qa-box">
                    <span class="question">هل يمكنني استخدامه في الـ Scalping؟</span>
                    <span class="answer">نعم، قم بضبط إدخال "Length" على القيمة 5 للحصول على دورات تأكيد فورية على فريم
                        الدقيقة.</span>
                </div>
            </section>
        </div>
    </div>

    <script>
        // Separate Scroll Progress Logics
        const paneEn = document.getElementById('pane-en');
        const paneAr = document.getElementById('pane-ar');
        const progEn = document.getElementById('progress-en');
        const progAr = document.getElementById('progress-ar');

        paneEn.onscroll = function () {
            let winScroll = paneEn.scrollTop;
            let height = paneEn.scrollHeight - paneEn.clientHeight;
            let scrolled = (winScroll / height) * 100;
            progEn.style.width = scrolled + "%";
        };

        paneAr.onscroll = function () {
            let winScroll = paneAr.scrollTop;
            let height = paneAr.scrollHeight - paneAr.clientHeight;
            let scrolled = (winScroll / height) * 100;
            progAr.style.width = scrolled + "%";
        };
    </script>
</body>

</html>